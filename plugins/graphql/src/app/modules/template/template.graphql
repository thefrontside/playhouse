scalar JSON
scalar JSONObject
union Ownable = Template

type Step {
  id: String
  name: String
  action: String!
  input: JSONObject
  if: JSON
}

type Template @extend(type: "Entity") @resolve(by: "spec.type") {
  parameters: JSONObject @field(at: "spec.parameters ")
  steps: [Step]! @field(at: "spec.steps")
  output: JSONObject @field(at: "spec.output")
  owner: Owner @relation(type: "ownedBy")
}

type WebsiteTemplate @extend(type: "Template") { id: ID! }

type DocumentationTemplate @extend(type: "Template") { id: ID! }

type ServiceTemplate @extend(type: "Template") { id: ID! }
